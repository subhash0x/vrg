!function(a){a.fn.retina=function(e){var t={dataRetina:!0,suffix:"",checkIfImageExists:!1,customFileNameCallback:"",overridePixelRation:!1};e&&jQuery.extend(t,e);var i=!1;return(t.overridePixelRation||window.devicePixelRatio>=2)&&(i=!0),this.each(function(){var e=a(this);if(e.addClass("retina-off"),!i)return!1;var r="";if(t.dataRetina&&e.attr("data-retina")&&(r=e.attr("data-retina")),t.suffix&&(r||(r=e.attr("src"))),t.suffix){var s=r.replace(/.[^.]+$/,""),n=r.replace(/^.*\./,"");r=s+t.suffix+"."+n}t.customFileNameCallback&&(r=t.customFileNameCallback(e)),t.checkIfImageExists&&r?a.ajax({url:r,type:"HEAD",success:function(){e.attr("src",r),e.removeClass("retina-off"),e.addClass("retina-on")}}):r&&(e.attr("src",r),e.removeClass("retina-off"),e.addClass("retina-on"))})}}(jQuery);